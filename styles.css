/* Main Stylesheet for Actiari Study Tools */

/* --- THEME VARIABLES from Past Papers Archive --- */
:root {
    --color-background: #1a1d21;
    --color-surface: #252930;
    --color-surface-variant: #31363f;
    --color-surface-hover: #3c424c;
    --color-primary-accent-generic: #00b8d4;
    --color-text-primary: #e8eaed;
    --color-text-secondary: #b0b3b8;
    --color-border: #40454c;
    --color-shadow: rgba(0,0,0,0.3);
    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    --border-radius: 8px;
    --nav-bg: var(--color-surface-variant);
    --nav-text: #ffffff;
    --nav-hover-bg: var(--color-primary-accent-generic);
    --nav-hover-text: var(--color-background);
    --topic-water-carbon-color: #87CEFA;
    --topic-global-color: #B0C4DE;
    --topic-places-color: #FBC4AB;
    --topic-hazards-color: #FFA07A;
    --topic-coasts-color: #F5DEB3;
    --topic-urban-color: #A0DAA9;
    --topic-generic-optional-color: #88c0d0;
    --topic-generic-compulsory-color: #e59866;
    --compulsory-color: #e59866;
    --optional-color: #88c0d0;
    --key-number-color: #87ceeb;
    --key-concept-color: #98fb98;
    --tab-bg: var(--color-surface-variant);
    --tab-active-bg: var(--color-primary-accent-generic);
    --tab-text-color: var(--color-text-primary);
    --tab-active-text-color: var(--color-background);
    --tab-border-color: var(--color-border);
    --tab-active-border-color: var(--color-primary-accent-generic);
    --accordion-header-bg: var(--color-surface-variant);
    --accordion-header-hover-bg: var(--color-surface-hover);
    --accordion-content-bg: var(--color-surface);
    --accordion-open-header-bg: var(--color-primary-accent-generic);
    --accordion-open-header-text: var(--color-background);
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body {
    font-family: var(--font-main);
    line-height: 1.6;
    background-color: var(--color-background);
    color: var(--color-text-primary);
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    font-size: 16px;
}

/* --- NAVIGATION STYLES --- */
.nav-container {
    background-color: var(--nav-bg); width: 100%; display: flex; align-items: center;
    padding: 0 20px; position: sticky; top: 0;
    z-index: 1000; box-shadow: 0 2px 10px var(--color-shadow);
}
.nav-menu-wrapper { display: flex; width: 100%; max-width: 1400px; }
.nav-menu { list-style-type: none; display: flex; align-items: center; margin: 0; padding: 0; }
.nav-menu li { margin: 0; }
.nav-menu li a {
    display: block; color: var(--nav-text); text-align: center; padding: 14px 18px;
    text-decoration: none; white-space: nowrap; transition: background-color 0.2s, color 0.2s;
    font-weight: 500; font-size: 0.95em;
}
.nav-menu li a:visited { color: var(--nav-text); }
.nav-menu li a:hover, .nav-menu li a:focus, .nav-menu li a.active-nav-link {
    background-color: var(--nav-hover-bg); color: var(--nav-hover-text); outline: none;
}
.menu-toggle {
    display: none; background: none; border: none; color: var(--nav-text);
    font-size: 24px; cursor: pointer; padding: 10px 15px;
}
@media screen and (min-width: 993px) {
    .nav-container { justify-content: center; }
    .nav-menu-wrapper { justify-content: center; }
}
@media screen and (max-width: 992px) {
    .nav-container { justify-content: space-between; }
    .nav-menu-wrapper { justify-content: flex-start; width: auto; }
    .menu-toggle { display: block; }
    .nav-menu {
        display: none; position: absolute; top: 100%; left: 0; right: 0;
        background-color: var(--nav-bg); flex-direction: column; overflow: hidden;
        border-top: 1px solid var(--color-border); max-height: 0;
        transition: max-height 0.3s ease-out;
    }
    .nav-menu.active { display: flex; max-height: 500px; }
    .nav-menu li { width: 100%; }
    .nav-menu li a { padding: 12px 20px; text-align: left; }
    .nav-menu li + li a { border-top: 1px solid var(--color-border); }
}

/* --- PAGE CONTAINER & HEADER --- */
.page-container {
    flex: 1; padding: 0 20px; width: 100%; max-width: 1300px; margin: 20px auto;
    background-color: var(--color-surface); border-radius: var(--border-radius);
    box-shadow: 0 4px 15px var(--color-shadow);
}
.page-header { text-align: center; padding: 25px 20px 20px; }
.page-header h1 {
    color: var(--color-primary-accent-generic);
    font-size: 2.2em; font-weight: 700; margin-bottom: 5px;
}
.page-container h2 {
    color: var(--color-text-primary); border-bottom: 2px solid var(--color-border);
    opacity: 0.9; padding-bottom: 8px; margin-top: 0; margin-bottom: 20px; font-size: 1.6em;
}
.page-container h3 {
    color: var(--color-primary-accent-generic); font-size: 1.3em; margin-bottom: 15px;
}

/* --- TABS --- */
.tab-navigation {
    display: flex; border-bottom: 2px solid var(--tab-border-color); margin-bottom: 25px;
    padding: 20px 20px 0; flex-wrap: wrap; gap: 8px;
}
.tab-link {
    padding: 10px 18px; background-color: var(--tab-bg); color: var(--tab-text-color);
    border: 1px solid var(--color-border); border-radius: var(--border-radius);
    cursor: pointer; font-size: 1em; font-weight: 500;
    transition: background-color 0.2s, color 0.2s, box-shadow 0.2s, border-color 0.2s;
}
.tab-link:hover { background-color: var(--color-surface-hover); }
.tab-link.active {
    background-color: var(--tab-active-bg); color: var(--tab-active-text-color);
    font-weight: 600; box-shadow: 0 0 10px rgba(0, 184, 212, 0.4);
    border-color: var(--tab-active-border-color);
}
.tab-content { display: none; animation: fadeIn 0.5s; padding: 0 20px 20px; }
.tab-content.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

/* --- ASSESSMENT SECTION --- */
.assessment-component {
    background-color: var(--color-surface-variant); border: 1px solid var(--color-border);
    border-radius: var(--border-radius); padding: 20px; margin-bottom: 25px;
    box-shadow: 0 2px 5px var(--color-shadow);
}
.assessment-component h3 {
    margin-top: 0; padding-bottom: 10px; border-bottom: 1px solid var(--color-border);
    margin-bottom: 15px; color: var(--color-primary-accent-generic);
}
.assessment-details { display: flex; flex-wrap: wrap; gap: 15px; margin-bottom: 15px; padding-bottom: 15px; border-bottom: 1px dashed var(--color-border); }
.detail-item {
    background-color: var(--color-surface); padding: 8px 12px; border-radius: var(--border-radius);
    border: 1px solid var(--color-border); font-size: 0.9em;
}
.detail-item strong { color: var(--color-text-secondary); }

/* --- TABLES --- */
table {
    width: 100%; border-collapse: collapse; margin-top: 15px; font-size: 0.95em;
    table-layout: fixed; border: 1px solid var(--color-border);
}
th, td { border: 1px solid var(--color-border); padding: 10px 12px; text-align: left; vertical-align: top; word-wrap: break-word; }
th {
    background-color: var(--color-surface-variant); font-weight: bold; color: var(--color-text-primary);
}
.compulsory { font-weight: bold; color: var(--compulsory-color); }
.optional-choice { font-style: italic; color: var(--optional-color); }
.assessment-table-topic.topic-water-carbon { color: var(--topic-water-carbon-color); }
.assessment-table-topic.topic-global { color: var(--topic-global-color); }
.assessment-table-topic.topic-places { color: var(--topic-places-color); }
.assessment-table-topic.topic-hazards { color: var(--topic-hazards-color); }
.assessment-table-topic.topic-coasts { color: var(--topic-coasts-color); }
.assessment-table-topic.topic-urban { color: var(--topic-urban-color); }
.assessment-table-topic.topic-hot-deserts,
.assessment-table-topic.topic-glacial,
.assessment-table-topic.topic-ecosystems,
.assessment-table-topic.topic-population,
.assessment-table-topic.topic-resources {
     color: var(--topic-generic-optional-color); font-style: normal; font-weight: bold;
}
.spec-point {
    font-size: 0.9em; color: var(--color-text-secondary); opacity: 1;
    margin-left: 5px; font-style: italic; display: block; margin-top: 4px;
    padding-left: 10px; border-left: 2px solid var(--color-border);
}
table ul { padding-left: 18px; margin-top: 5px; margin-bottom: 5px; }
table li { margin-bottom: 5px; }

/* --- SKILLS SECTION --- */
.skills-list {
    columns: 2; -webkit-columns: 2; -moz-columns: 2;
    list-style-type: none; padding-left: 0; margin-top: 15px; font-size: 0.95em;
}
.skills-list li {
    margin-bottom: 10px; padding: 8px 12px;
    background-color: var(--color-surface-variant);
    border-left: 3px solid var(--color-primary-accent-generic);
    border-radius: 0 var(--border-radius) var(--border-radius) 0;
}
.skills-list li .key-concept { font-weight: 600; color: var(--key-concept-color); }
.skills-list li::before {
    font-family: "Font Awesome 5 Free"; font-weight: 900; content: "\f00c";
    margin-right: 10px; color: var(--color-primary-accent-generic);
}

/* --- CASE STUDIES SECTION (Accordion) --- */
.case-study-intro { margin-bottom: 20px; font-size: 1.05em; line-height: 1.6; }
.case-study-component-group > h2 {
    margin-top: 20px; margin-bottom: 15px; font-size: 1.5em;
    color: var(--color-text-primary);
}
.case-study-component-group:first-of-type > h2 { margin-top: 0; }
details.topic-accordion {
    margin-bottom: 12px; border-radius: var(--border-radius);
    overflow: hidden; border: 1px solid var(--color-border);
}
details.topic-accordion.topic-block-water-carbon { --current-accordion-accent: var(--topic-water-carbon-color); }
details.topic-accordion.topic-block-hazards { --current-accordion-accent: var(--topic-hazards-color); }
details.topic-accordion.topic-block-coasts { --current-accordion-accent: var(--topic-coasts-color); }
details.topic-accordion.topic-block-global { --current-accordion-accent: var(--topic-global-color); }
details.topic-accordion.topic-block-places { --current-accordion-accent: var(--topic-places-color); }
details.topic-accordion.topic-block-urban { --current-accordion-accent: var(--topic-urban-color); }
details.topic-accordion > summary {
    font-size: 1.2em; font-weight: 500; padding: 15px 20px 15px 35px;
    background-color: var(--accordion-header-bg); color: var(--color-text-primary);
    cursor: pointer; list-style: none; display: flex; justify-content: space-between;
    align-items: center; position: relative; transition: background-color 0.2s ease-in-out;
}
details.topic-accordion > summary::before {
    content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 10px;
    background-color: var(--current-accordion-accent, var(--color-primary-accent-generic));
}
details.topic-accordion > summary::-webkit-details-marker { display: none; }
details.topic-accordion > summary .summary-text { flex-grow: 1; }
details.topic-accordion > summary .accordion-icon-custom {
    font-family: "Font Awesome 5 Free"; font-weight: 900; content: "\f078";
    font-size: 1em; color: var(--current-accordion-accent, var(--color-primary-accent-generic));
    transition: transform 0.2s ease-in-out; margin-left: 10px;
}
details.topic-accordion[open] > summary {
    background-color: var(--current-accordion-accent, var(--accordion-open-header-bg));
    color: var(--accordion-open-header-text);
}
details.topic-accordion[open] > summary .accordion-icon-custom {
    transform: rotate(180deg); color: var(--accordion-open-header-text);
}
.accordion-content {
    padding: 20px; background-color: var(--accordion-content-bg);
    border-top: 1px solid var(--color-border);
}
.topic-block-water-carbon .accordion-content { background-color: hsla(from var(--topic-water-carbon-color) h s l / 0.05); }
.topic-block-hazards .accordion-content { background-color: hsla(from var(--topic-hazards-color) h s l / 0.05); }
.topic-block-coasts .accordion-content { background-color: hsla(from var(--topic-coasts-color) h s l / 0.05); }
.topic-block-global .accordion-content { background-color: hsla(from var(--topic-global-color) h s l / 0.05); }
.topic-block-places .accordion-content { background-color: hsla(from var(--topic-places-color) h s l / 0.05); }
.topic-block-urban .accordion-content { background-color: hsla(from var(--topic-urban-color) h s l / 0.05); }

.case-study-list ul { list-style: none; padding-left: 0; margin-top: 0; }
.case-study-list li {
    margin-bottom: 12px; background-color: var(--color-surface-variant);
    padding: 12px 18px; border-radius: var(--border-radius);
    box-shadow: 0 1px 3px rgba(0,0,0,0.07);
    border-left: 4px solid transparent;
}
.topic-block-water-carbon .case-study-list li { border-left-color: var(--topic-water-carbon-color); }
.topic-block-hazards .case-study-list li { border-left-color: var(--topic-hazards-color); }
.topic-block-coasts .case-study-list li { border-left-color: var(--topic-coasts-color); }
.topic-block-global .case-study-list li { border-left-color: var(--topic-global-color); }
.topic-block-places .case-study-list li { border-left-color: var(--topic-places-color); }
.topic-block-urban .case-study-list li { border-left-color: var(--topic-urban-color); }
.case-study-list li strong { display: block; margin-bottom: 5px; font-size: 1.05em; }
.topic-block-water-carbon li strong { color: var(--topic-water-carbon-color); }
.topic-block-hazards li strong { color: var(--topic-hazards-color); }
.topic-block-coasts li strong { color: var(--topic-coasts-color); }
.topic-block-global li strong { color: var(--topic-global-color); }
.topic-block-places li strong { color: var(--topic-places-color); }
.topic-block-urban li strong { color: var(--topic-urban-color); }
.case-study-list li ul { margin-top: 8px; padding-left: 20px; list-style-type: disc; }
.case-study-list li ul li { background-color: transparent; box-shadow: none; padding: 3px 0; font-size: 0.95em; border-left: none; }
.case-study-list li ul li strong { color: var(--color-text-secondary); font-weight: normal; display: inline; }

/* --- FOOTER --- */
footer {
    background-color: var(--nav-bg); color: var(--nav-text); text-align: center;
    padding: 20px 0; font-size: 0.9rem; margin-top: auto;
}
footer a { color: var(--color-primary-accent-generic); text-decoration: none; }
footer a:hover { text-decoration: underline; }
.key-number { font-weight: bold; color: var(--key-number-color); }
.key-concept { font-weight: bold; color: var(--key-concept-color); }

/* --- CASE STUDY DETAIL PAGE EXTRAS --- */
.page-container { max-width: 900px; }
.case-study-detail-card {
    background-color: var(--color-surface-variant); border: 1px solid var(--color-border);
    border-left: 5px solid var(--topic-hazards-color); border-radius: var(--border-radius);
    padding: 25px; margin-top: 20px; box-shadow: 0 3px 8px var(--color-shadow);
}
.case-study-title {
    font-size: 2em; color: var(--color-primary-accent-generic);
    margin-bottom: 5px; border-bottom: 2px solid var(--color-border); padding-bottom: 10px;
}
.case-study-subtitle {
    font-size: 1.1em; color: var(--color-text-secondary);
    margin-bottom: 20px; font-weight: 500;
}
.case-study-facts-table {
    width: 100%; border-collapse: collapse; margin-bottom: 25px; font-size: 0.95em;
}
.case-study-facts-table th, .case-study-facts-table td {
    border: 1px solid var(--color-border); padding: 10px 12px; text-align: left; vertical-align: top;
}
.case-study-facts-table th {
    background-color: var(--color-surface); font-weight: 600; width: 30%; color: var(--color-text-secondary);
}
.case-study-facts-table td { color: var(--color-text-primary); }
.exam-tagline { font-style: italic; color: var(--color-primary-accent-generic); font-weight: 500; }
.case-study-section { margin-bottom: 25px; }
.case-study-section h3 {
    font-size: 1.5em; color: var(--color-text-primary); border-bottom: 1px solid var(--color-border);
    padding-bottom: 8px; margin-bottom: 15px; display: flex; align-items: center;
}
.section-emoji { font-size: 1.3em; margin-right: 10px; }
.case-study-section ul { list-style-type: disc; padding-left: 25px; margin-top: 10px; }
.case-study-section li { margin-bottom: 8px; line-height: 1.7; }
.bare-minimum-box {
    background-color: var(--color-surface); border: 1px dashed var(--color-primary-accent-generic);
    border-radius: var(--border-radius); padding: 20px; margin-top: 20px; font-size: 0.95em;
}
.bare-minimum-box h4 {
    color: var(--color-primary-accent-generic); margin-top: 0; margin-bottom: 10px;
    font-size: 1.2em; display: flex; align-items: center;
}
.back-link-container { margin-bottom: 20px; margin-top: 10px; }
.back-link {
    display: inline-block; padding: 8px 15px; background-color: var(--color-surface-variant);
    color: var(--color-text-primary); text-decoration: none; border-radius: var(--border-radius);
    border: 1px solid var(--color-border); transition: background-color 0.2s, color 0.2s;
}
.back-link:hover { background-color: var(--color-primary-accent-generic); color: var(--color-background); }
.back-link i { margin-right: 8px; }

/* --- RESPONSIVE --- */
@media (max-width: 768px) {
    .page-container { margin-left: 10px; margin-right: 10px; padding: 0; }
    .page-header { padding: 20px 15px 15px; }
    .page-header h1 { font-size: 2em; }
    .tab-navigation { padding: 15px 15px 0; }
    .tab-content { padding: 0 15px 15px; }
    .tab-link { padding: 10px 12px; font-size: 0.9em; }
    .skills-list { columns: 1; -webkit-columns: 1; -moz-columns: 1; }
    .assessment-details { flex-direction: column; }
    details.topic-accordion > summary { font-size: 1.1em; padding: 12px 15px 12px 30px; }
    details.topic-accordion > summary::before { width: 8px; }
}
@media (max-width: 480px) {
    .tab-navigation { flex-wrap: wrap; }
    .tab-link { width: 100%; margin-right: 0; margin-bottom: 2px; border-radius: var(--border-radius); }
    .page-header h1 { font-size: 1.8em; }
    .assessment-component { padding: 15px; }
    table { font-size: 0.9em; }
    th, td { padding: 8px; }
}
