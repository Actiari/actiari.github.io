<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="./Miscellaneous/Main_Favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    :root {
      --primary: #2e7d32;
      --primary-dark: #1b5e20;
      --primary-light: #81c784;
      --secondary: #388e3c;
      --accent: #66bb6a;
      --dark: #1a2e1a;
      --light: #f8f9fa;
      --success: #4caf50;
      --warning: #ffa000;
      --danger: #d32f2f;
      --gray: #616161;
      --gray-light: #e8f5e9;
      --border-radius: 12px;
      --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    /* Global styles */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      background-color: #f0f8f0;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      color: var(--dark);
    }
    
    /* Navigation styles */
    .nav-container {
      background-color: var(--primary-dark);
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 20px;
      position: relative;
    }
    
    .logo img {
      height: 38px;
      width: auto;
      vertical-align: middle;
    }
    
    .nav-menu {
      list-style-type: none;
      display: flex;
      align-items: center;
      margin: 0;
      padding: 0;
    }
    
    .nav-menu li {
      margin: 0;
    }
    
    .nav-menu li a {
      display: block;
      color: white;
      text-align: center;
      padding: 14px 16px;
      text-decoration: none;
      white-space: nowrap;
      transition: background-color 0.2s;
    }
    
    .nav-menu li a:hover,
    .nav-menu li a:focus {
      background-color: var(--primary);
      outline: none;
    }
    
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      color: white;
      font-size: 24px;
      cursor: pointer;
      padding: 8px;
    }
    
    /* Main app container */
    #app-container {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
    }
    
    /* Header */
    .app-header {
      text-align: center;
      margin-bottom: 30px;
      animation: fadeInDown 0.6s ease-out;
    }
    
    .app-title {
      font-size: 2.2rem;
      font-weight: 700;
      color: var(--primary-dark);
      margin-bottom: 8px;
    }
    
    /* Main layout */
    .app-layout {
      display: grid;
      grid-template-columns: 300px 1fr;
      gap: 24px;
    }
    
    /* Sidebar */
    .sidebar {
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 20px;
      border: 1px solid var(--gray-light);
      height: fit-content;
      position: sticky;
      top: 20px;
      animation: slideInLeft 0.5s ease-out;
    }
    
    .sidebar-section {
      margin-bottom: 24px;
    }
    
    .sidebar-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--primary-dark);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
    }
    
    .sidebar-title i {
      margin-right: 10px;
      color: var(--primary);
    }
    
    /* Search */
    .search-container {
      position: relative;
      margin-bottom: 20px;
    }
    
    .search-input {
      width: 100%;
      padding: 12px 16px 12px 40px;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      font-size: 0.95rem;
      transition: var(--transition);
      background-color: var(--light);
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(46, 125, 50, 0.2);
    }
    
    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }
    
    /* Topic selection */
    .topic-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 12px;
    }
    
    .topic-card {
      background-color: white;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      padding: 16px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      align-items: center;
      border: none;
    }
    
    .topic-card:hover,
    .topic-card:focus {
      transform: translateY(-3px);
      box-shadow: var(--box-shadow);
      border-color: var(--primary-light);
      outline: none;
    }
    
    .topic-card.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }
    
    .topic-icon {
      font-size: 1.8rem;
      margin-bottom: 10px;
      color: var(--primary);
    }
    
    .topic-card.active .topic-icon {
      color: white;
    }
    
    .topic-name {
      font-weight: 500;
      font-size: 0.95rem;
    }
    
    /* Subtopic selection */
    .subtopic-container {
      margin-top: 20px;
      animation: fadeIn 0.4s ease-out;
    }
    
    .back-btn {
      display: flex;
      align-items: center;
      margin-bottom: 16px;
      background: none;
      border: none;
      color: var(--primary);
      cursor: pointer;
      font-weight: 500;
      padding: 8px;
    }
    
    .back-btn:hover,
    .back-btn:focus {
      text-decoration: underline;
      outline: none;
    }
    
    .back-btn i {
      margin-right: 8px;
    }
    
    .subtopic-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 12px;
    }
    
    .subtopic-card {
      background-color: white;
      border: 1px solid var(--gray-light);
      border-radius: var(--border-radius);
      padding: 14px;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
    }
    
    .subtopic-card:hover,
    .subtopic-card:focus {
      transform: translateY(-3px);
      box-shadow: var(--box-shadow);
      border-color: var(--primary-light);
      outline: none;
    }
    
    .subtopic-card.active {
      background-color: var(--primary-light);
      border-color: var(--primary-light);
    }
    
    .subtopic-name {
      font-weight: 500;
      margin-bottom: 6px;
      display: flex;
      align-items: center;
    }
    
    .subtopic-icon {
      margin-right: 8px;
      color: var(--primary);
      font-size: 1rem;
    }
    
    .subtopic-count {
      font-size: 0.8rem;
      color: var(--gray);
    }
    
    .bookmark-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      color: var(--gray);
      cursor: pointer;
      transition: var(--transition);
      background: none;
      border: none;
      font-size: 1rem;
    }
    
    .bookmark-btn.active, 
    .bookmark-btn:hover,
    .bookmark-btn:focus {
      color: var(--warning);
      outline: none;
    }
    
    /* Bookmark section */
    .bookmarks-section {
      margin-top: 24px;
      padding-top: 24px;
      border-top: 1px solid var(--gray-light);
    }
    
    /* Flashcard container */
    .flashcard-view {
      background-color: white;
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      padding: 30px;
      min-height: 400px;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--gray-light);
      animation: fadeIn 0.5s ease-out;
    }
    
    .flashcard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .flashcard-progress {
      font-size: 0.9rem;
      color: var(--gray);
      font-weight: 500;
    }
    
    .flashcard-actions {
      display: flex;
      gap: 10px;
    }
    
    .action-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--gray-light);
      color: var(--gray);
      cursor: pointer;
      transition: var(--transition);
      border: none;
    }
    
    .action-btn:hover,
    .action-btn:focus {
      background-color: var(--primary-light);
      color: white;
      outline: none;
    }
    
    .action-btn.bookmarked {
      background-color: var(--warning);
      color: white;
    }
    
    /* Flashcard content */
    .flashcard-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      perspective: 1000px;
      position: relative;
    }
    
    .flashcard {
      background-color: white;
      border-radius: var(--border-radius);
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      transition: var(--transition);
      border: 1px solid var(--gray-light);
      transform-style: preserve-3d;
      min-height: 300px;
      display: flex;
      flex-direction: column;
      cursor: pointer;
      position: relative;
    }
    
    .flashcard.flipping {
      animation: flipCard 0.6s ease-out forwards;
    }
    
    .flashcard-subtopic {
      font-size: 0.9rem;
      color: var(--primary);
      margin-bottom: 12px;
      font-weight: 500;
      display: flex;
      align-items: center;
    }
    
    .flashcard-subtopic i {
      margin-right: 8px;
    }
    
    .flashcard-question, 
    .flashcard-answer {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .flashcard-question h3,
    .flashcard-answer h3 {
      font-size: 1.3rem;
      color: var(--primary-dark);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
    }
    
    .flashcard-question h3 i {
      margin-right: 12px;
      color: var(--primary);
    }
    
    .flashcard-question p {
      font-size: 1.1rem;
      color: var(--dark);
      line-height: 1.7;
    }
    
    .flashcard-answer h3 i {
      margin-right: 12px;
      color: var(--success);
    }
    
    .flashcard-answer-content {
      font-size: 1.1rem;
      color: var(--dark);
      line-height: 1.7;
    }
    
    .flashcard-answer-content ul {
      list-style-type: disc;
      padding-left: 20px;
    }
    
    .flashcard-answer-content li {
      margin-bottom: 8px;
    }
    
    .flashcard-instruction {
      text-align: center;
      margin-top: 20px;
      font-size: 0.9rem;
      color: var(--gray);
      font-weight: 500;
    }
    
    /* Navigation buttons */
    .flashcard-nav {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
    }
    
    .nav-btn {
      padding: 12px 24px;
      border-radius: var(--border-radius);
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      border: none;
    }
    
    .nav-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .nav-btn.prev {
      background-color: var(--gray-light);
      color: var(--gray);
    }
    
    .nav-btn.prev:hover:not(:disabled),
    .nav-btn.prev:focus:not(:disabled) {
      background-color: #e0e0e0;
    }
    
    .nav-btn.next {
      background-color: var(--primary);
      color: white;
    }
    
    .nav-btn.next:hover:not(:disabled),
    .nav-btn.next:focus:not(:disabled) {
      background-color: var(--primary-dark);
    }
    
    .nav-btn i {
      margin-right: 8px;
    }
    
    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 40px 20px;
      animation: fadeIn 0.5s ease-out;
    }
    
    .empty-state i {
      font-size: 3rem;
      color: var(--gray-light);
      margin-bottom: 20px;
    }
    
    .empty-state h3 {
      font-size: 1.3rem;
      color: var(--gray);
      margin-bottom: 10px;
    }
    
    .empty-state p {
      color: var(--gray);
      margin-bottom: 20px;
    }
    
    /* Error boundary */
    .error-boundary {
      padding: 20px;
      background-color: #ffebee;
      border-radius: var(--border-radius);
      color: var(--danger);
      margin: 20px 0;
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes flipCard {
      0% { transform: rotateY(0); }
      50% { transform: rotateY(90deg); }
      100% { transform: rotateY(0); }
    }
    
    @keyframes slideOutRight {
      to {
        opacity: 0;
        transform: translateX(20px);
      }
    }
    
    @keyframes slideInRight {
      from {
        opacity: 0;
        transform: translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    .slide-out {
      animation: slideOutRight 0.3s ease-out forwards;
    }
    
    .slide-in {
      animation: slideInRight 0.3s ease-out forwards;
    }
    
    /* Responsive styles */
    @media screen and (max-width: 992px) {
      .app-layout {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        position: static;
        margin-bottom: 20px;
      }
      
      .topic-grid {
        grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      }
      
      .menu-toggle {
        display: block;
      }
      
      .nav-menu {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background-color: var(--primary-dark);
        flex-direction: column;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
        z-index: 1000;
      }
      
      .nav-menu.active {
        max-height: 500px;
        padding: 10px 0;
      }
      
      .nav-menu li {
        width: 100%;
      }
      
      .nav-menu li a {
        padding: 12px 20px;
      }
    }
    
    @media screen and (max-width: 768px) {
      .app-header {
        margin-bottom: 20px;
      }
      
      .app-title {
        font-size: 1.8rem;
      }
      
      .flashcard-view {
        padding: 20px;
      }
      
      .flashcard-question h3,
      .flashcard-answer h3 {
        font-size: 1.2rem;
      }
      
      .flashcard-question p,
      .flashcard-answer-content {
        font-size: 1rem;
      }
      
      .subtopic-list {
        grid-template-columns: 1fr;
      }
    }
    
    @media screen and (max-width: 576px) {
      .nav-btn {
        padding: 10px 16px;
        font-size: 0.9rem;
      }
      
      .flashcard-nav {
        flex-direction: column;
        gap: 10px;
      }
      
      .nav-btn {
        width: 100%;
        justify-content: center;
      }
      
      .flashcard {
        padding: 20px;
        min-height: 250px;
      }
    }
  </style>
  <title>Geography Flashcards</title>
  <!-- React and ReactDOM CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <!-- Navigation -->
  <div class="nav-container">
    <a href="index.html" class="logo">
      <img src="Logo.png" alt="Geography Flashcards Logo" style="height: 38px;">
    </a>
    <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
      <i class="fas fa-bars"></i>
    </button>
    <ul class="nav-menu">
      <li><a href="PR.html">GCSE Past Papers</a></li>
      <li><a href="APR.html">A Level Papers</a></li>
      <li><a href="SPBE.html">Geography Flashcards</a></li>
      <li><a href="BWT.html">Case Studies</a></li>
    </ul>
  </div>

  <script>
    // Wait for DOM to be fully loaded
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.querySelector('.menu-toggle');
      const navMenu = document.querySelector('.nav-menu');

      // Only proceed if elements exist
      if (menuToggle && navMenu) {
        // Toggle menu on button click
        menuToggle.addEventListener('click', function(e) {
          e.stopPropagation();
          const isExpanded = navMenu.classList.toggle('active');
          this.setAttribute('aria-expanded', isExpanded);
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(event) {
          if (navMenu.classList.contains('active') &&
              !navMenu.contains(event.target) &&
              !menuToggle.contains(event.target)) {
            navMenu.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');
          }
        });

        // Reset menu on large screens
        window.addEventListener('resize', function() {
          if (window.innerWidth > 992) {
            navMenu.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');
          }
        });
      } else {
        console.error('Navigation elements not found!');
      }
    });
  </script>
  
  <!-- React App Container -->
  <div id="app-container"></div>
  
  <!-- React Component -->
  <script type="text/babel">
    class ErrorBoundary extends React.Component {
      constructor(props) {
        super(props);
        this.state = { hasError: false };
      }
    
      static getDerivedStateFromError(error) {
        return { hasError: true };
      }
    
      componentDidCatch(error, errorInfo) {
        console.error('Error caught by ErrorBoundary:', error, errorInfo);
      }
    
      render() {
        if (this.state.hasError) {
          return (
            <div className="error-boundary">
              <h3>Something went wrong</h3>
              <p>Please refresh the page to continue</p>
              <button 
                className="nav-btn next"
                onClick={() => window.location.reload()}
              >
                <i className="fas fa-sync-alt"></i>
                Refresh Page
              </button>
            </div>
          );
        }
    
        return this.props.children;
      }
    }

    const GeographyFlashcardApp = () => {
      // State declarations
      const [flashcards, setFlashcards] = React.useState([]);
      const [filteredCards, setFilteredCards] = React.useState([]);
      const [currentCardIndex, setCurrentCardIndex] = React.useState(0);
      const [showAnswer, setShowAnswer] = React.useState(false);
      const [isFlipping, setIsFlipping] = React.useState(false);
      const [searchTerm, setSearchTerm] = React.useState('');
      const [selectedTopic, setSelectedTopic] = React.useState(null);
      const [selectedSubtopic, setSelectedSubtopic] = React.useState(null);
      const [bookmarkedCards, setBookmarkedCards] = React.useState([]);
      const [bookmarkedTopics, setBookmarkedTopics] = React.useState([]);
      const [view, setView] = React.useState('topics'); // 'topics', 'subtopics', or 'bookmarks'
      const [animationClass, setAnimationClass] = React.useState('');
      
      // Load saved data from localStorage
      React.useEffect(() => {
        try {
          const savedBookmarkedCards = localStorage.getItem('bookmarkedCards');
          const savedBookmarkedTopics = localStorage.getItem('bookmarkedTopics');
          
          if (savedBookmarkedCards) {
            setBookmarkedCards(JSON.parse(savedBookmarkedCards));
          }
          
          if (savedBookmarkedTopics) {
            setBookmarkedTopics(JSON.parse(savedBookmarkedTopics));
          }
        } catch (error) {
          console.error('Error loading bookmarks:', error);
        }
      }, []);
      
      // Save bookmarks to localStorage when they change
      React.useEffect(() => {
        try {
          localStorage.setItem('bookmarkedCards', JSON.stringify(bookmarkedCards));
          localStorage.setItem('bookmarkedTopics', JSON.stringify(bookmarkedTopics));
        } catch (error) {
          console.error('Error saving bookmarks:', error);
        }
      }, [bookmarkedCards, bookmarkedTopics]);
      
      // Topic configuration with subtopic icons
      const topicConfig = [
        {
          id: 'hazards',
          name: 'Hazards',
          icon: 'fa-mountain',
          color: '#2e7d32',
          subtopics: [
            "Volcanoes",
            "Tsunamis",
            "Earthquakes",
            "Tropical Storms",
            "Wildfires"
          ],
          subtopicIcons: {
            "Volcanoes": "fa-volcano",
            "Tsunamis": "fa-water",
            "Earthquakes": "fa-layer-group",
            "Tropical Storms": "fa-wind",
            "Wildfires": "fa-fire"
          }
        },
        {
          id: 'changing-places',
          name: 'Changing Places',
          icon: 'fa-city',
          color: '#1565c0',
          subtopics: [
            "Place Meaning",
            "Artistic Representation",
            "Changing Places",
            "Forces of Change",
            "Rebranding"
          ],
          subtopicIcons: {
            "Place Meaning": "fa-map-marker-alt",
            "Artistic Representation": "fa-paint-brush",
            "Changing Places": "fa-exchange-alt",
            "Forces of Change": "fa-bolt",
            "Rebranding": "fa-tag"
          }
        },
        {
          id: 'global-governance',
          name: 'Global Governance',
          icon: 'fa-globe',
          color: '#6a1b9a',
          subtopics: [
            "Global Systems",
            "Global Inequality",
            "International Agreements",
            "Global Institutions"
          ],
          subtopicIcons: {
            "Global Systems": "fa-network-wired",
            "Global Inequality": "fa-balance-scale",
            "International Agreements": "fa-handshake",
            "Global Institutions": "fa-university"
          }
        },
        {
          id: 'coasts',
          name: 'Coasts',
          icon: 'fa-water',
          color: '#0277bd',
          subtopics: [
            "Coastal Processes",
            "Landforms",
            "Management",
            "Case Studies"
          ],
          subtopicIcons: {
            "Coastal Processes": "fa-wave-square",
            "Landforms": "fa-mountain",
            "Management": "fa-tasks",
            "Case Studies": "fa-book"
          }
        },
        {
          id: 'carbon',
          name: 'Carbon',
          icon: 'fa-leaf',
          color: '#2e7d32',
          subtopics: [
            "Carbon Cycle",
            "Energy Security",
            "Climate Change",
            "Mitigation"
          ],
          subtopicIcons: {
            "Carbon Cycle": "fa-recycle",
            "Energy Security": "fa-battery-three-quarters",
            "Climate Change": "fa-temperature-high",
            "Mitigation": "fa-hands-helping"
          }
        },
        {
          id: 'water',
          name: 'Water',
          icon: 'fa-tint',
          color: '#0288d1',
          subtopics: [
            "Water Cycle",
            "Water Security",
            "Management",
            "Case Studies"
          ],
          subtopicIcons: {
            "Water Cycle": "fa-recycle",
            "Water Security": "fa-shield-alt",
            "Management": "fa-tasks",
            "Case Studies": "fa-book"
          }
        },
        {
          id: 'contemporary-urban',
          name: 'Contemporary Urban',
          icon: 'fa-building',
          color: '#6a1b9a',
          subtopics: [
            "Urban Processes",
            "Urban Climate",
            "Urban Drainage",
            "Sustainable Cities"
          ],
          subtopicIcons: {
            "Urban Processes": "fa-city",
            "Urban Climate": "fa-cloud-sun",
            "Urban Drainage": "fa-water",
            "Sustainable Cities": "fa-leaf"
          }
        }
      ];
      
      // Case study facts
      const caseStudyFacts = {
        "Mt Etna": `<ul>
          <li>VEI: 2-3</li>
          <li>2021 eruption: ash plume up to 3 km high</li>
          <li>Casualties: minimal due to monitoring</li>
        </ul>`,
        "Mt Merapi": `<ul>
          <li>2010 eruption: VEI 4</li>
          <li>Deaths: ~353</li>
          <li>Injuries: &gt;1,000; significant infrastructure damage</li>
        </ul>`,
        "Eyjafjallajökull": `<ul>
          <li>2010 eruption: VEI 4</li>
          <li>Ash cloud: reached 9 km high, disrupted European air travel for 6 days</li>
          <li>Direct casualties: minimal</li>
        </ul>`,
        "Montserrat": `<ul>
          <li>Active since 1995</li>
          <li>Evacuation: ~2/3 of population</li>
          <li>Long-term socio-economic impact</li>
        </ul>`,
        "Yellowstone": `<ul>
          <li>Supervolcano; last major eruption: &gt;600,000 years ago</li>
          <li>Potential eruption: VEI 8; catastrophic global impact</li>
        </ul>`,
        "Boxing Day Tsunami": `<ul>
          <li>Triggered by 9.1-9.3 magnitude earthquake in 2004</li>
          <li>Deaths: ~230,000</li>
          <li>Massive infrastructural damage</li>
        </ul>`,
        "Haiti": `<ul>
          <li>2010 earthquake: magnitude 7.0</li>
          <li>Deaths: &gt;230,000; Injuries: ~300,000</li>
          <li>Damage: $8-14 billion</li>
        </ul>`,
        "Cyclone Nargis": `<ul>
          <li>2008 event in Myanmar</li>
          <li>Deaths: ~138,000; Millions displaced</li>
          <li>Severe infrastructure damage</li>
        </ul>`,
        "Hurricane Katrina": `<ul>
          <li>2005 event: ~1,833 deaths</li>
          <li>Displacement: &gt;250,000 people</li>
          <li>Damage: &gt;$125 billion</li>
        </ul>`,
        "LA Wildfire": `<ul>
          <li>Recent events: evacuations and property losses &gt;$2 billion</li>
          <li>Widespread damage in urban areas</li>
        </ul>`,
        "Alberta Wildfire": `<ul>
          <li>2016 season: burned millions of acres</li>
          <li>Significant regional damage</li>
        </ul>`,
        "Tohoku": `<ul>
          <li>2011 earthquake/tsunami: magnitude 9.0</li>
          <li>Deaths: ~15,000; nuclear crisis triggered</li>
          <li>Long-term environmental and infrastructural challenges</li>
        </ul>`,
        "Typhoon Haiyan": `<ul>
          <li>2013 event in the Philippines</li>
          <li>Deaths: &gt;6,300; one of the strongest cyclones recorded</li>
          <li>Widespread destruction</li>
        </ul>`,
        "Ground Zero": `<ul>
          <li>Site of 9/11 attacks; major redevelopment</li>
          <li>Significantly impacted New York's economic and cultural identity</li>
        </ul>`,
        "Plymouth": `<ul>
          <li>Underwent substantial economic changes and urban regeneration</li>
          <li>Shift in population and employment trends</li>
        </ul>`,
        "Detroit": `<ul>
          <li>Population decline of over 60% from peak</li>
          <li>Significant economic loss due to industrial decline; revitalisation efforts ongoing</li>
        </ul>`,
        "London Olympics": `<ul>
          <li>2012 Olympics spurred major urban regeneration</li>
          <li>Boosted local economy and altered demographic patterns</li>
        </ul>`,
        "Medellin": `<ul>
          <li>Transformation from violence to innovation-driven urban revival</li>
          <li>Enhanced urban design and economic growth</li>
        </ul>`,
        "Bourneville": `<ul>
          <li>Industrial heritage from Cadburys</li>
          <li>Economic changes redefined community identity</li>
        </ul>`,
        "Devonport": `<ul>
          <li>Shift in naval and industrial activity</li>
          <li>Notable demographic and economic changes</li>
        </ul>`,
        "Stonehenge": `<ul>
          <li>Iconic monument driving tourism</li>
          <li>Major contributor to regional economic activity and identity</li>
        </ul>`,
        "Glastonbury": `<ul>
          <li>Famous for cultural festivals and historical legacy</li>
          <li>Exemplifies the blend of heritage and modern economic trends</li>
        </ul>`
      };
      
      // Generate flashcards
      const generateFlashcards = React.useCallback(() => {
        let generatedFlashcards = [];
        let idCounter = 1;
        
        // Hazards flashcards
        const hazardsFlashcards = [
          // Volcanoes
          {
            id: idCounter++,
            question: "Describe the key details of the Mt Etna case study.",
            answer: caseStudyFacts["Mt Etna"],
            topic: "Hazards",
            subtopic: "Volcanoes",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Analyze the immediate and long-term responses for Mt Etna.",
            answer: `<ul>
              <li>Immediate: Evacuation plans activated, air traffic diverted</li>
              <li>Long-term: Continuous monitoring systems upgraded, tourism management improved</li>
            </ul>`,
            topic: "Hazards",
            subtopic: "Volcanoes",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Compare the eruptions of Mt Etna and Mt Merapi.",
            answer: `<ul>
              <li>Mt Etna: Frequent but less violent eruptions, well-monitored</li>
              <li>Mt Merapi: More explosive eruptions, higher casualty rates</li>
              <li>Both: Significant economic impacts but different management approaches</li>
            </ul>`,
            topic: "Hazards",
            subtopic: "Volcanoes",
            type: "conceptual"
          },
          // Tsunamis
          {
            id: idCounter++,
            question: "Describe the key details of the Boxing Day Tsunami case study.",
            answer: caseStudyFacts["Boxing Day Tsunami"],
            topic: "Hazards",
            subtopic: "Tsunamis",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain why the 2004 Indian Ocean tsunami was so devastating.",
            answer: `<ul>
              <li>Magnitude 9.1-9.3 earthquake generated massive wave energy</li>
              <li>Lack of early warning system in Indian Ocean region</li>
              <li>High population density in coastal areas</li>
              <li>Low-lying coastal topography increased inundation</li>
            </ul>`,
            topic: "Hazards",
            subtopic: "Tsunamis",
            type: "conceptual"
          },
          // Earthquakes
          {
            id: idCounter++,
            question: "Describe the key details of the Haiti earthquake case study.",
            answer: caseStudyFacts["Haiti"],
            topic: "Hazards",
            subtopic: "Earthquakes",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain why the 2010 Haiti earthquake was particularly destructive.",
            answer: `<ul>
              <li>Shallow focus (13km) increased surface shaking</li>
              <li>Poor building construction standards</li>
              <li>High population density in Port-au-Prince</li>
              <li>Limited emergency response capacity</li>
              <li>Pre-existing poverty and poor infrastructure</li>
            </ul>`,
            topic: "Hazards",
            subtopic: "Earthquakes",
            type: "conceptual"
          },
          // Tropical Storms
          {
            id: idCounter++,
            question: "Describe the key details of Hurricane Katrina.",
            answer: caseStudyFacts["Hurricane Katrina"],
            topic: "Hazards",
            subtopic: "Tropical Storms",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Compare the impacts of Hurricane Katrina and Cyclone Nargis.",
            answer: `<ul>
              <li>Katrina: $125 billion damage, 1,833 deaths, mostly in USA</li>
              <li>Nargis: ~138,000 deaths, millions displaced, Myanmar</li>
              <li>Different response capacities due to economic differences</li>
              <li>Both highlighted need for better preparedness</li>
            </ul>`,
            topic: "Hazards",
            subtopic: "Tropical Storms",
            type: "conceptual"
          },
          // Wildfires
          {
            id: idCounter++,
            question: "Describe the key details of the Alberta wildfire case study.",
            answer: caseStudyFacts["Alberta Wildfire"],
            topic: "Hazards",
            subtopic: "Wildfires",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain the factors that contributed to the severity of the Alberta wildfires.",
            answer: `<ul>
              <li>Unusually hot and dry weather conditions</li>
              <li>Abundant fuel from boreal forest</li>
              <li>Strong winds spread fires rapidly</li>
              <li>Proximity to Fort McMurray increased economic impact</li>
              <li>Climate change increasing wildfire risk in boreal regions</li>
            </ul>`,
            topic: "Hazards",
            subtopic: "Wildfires",
            type: "conceptual"
          }
        ];
        
        // Changing Places flashcards
        const changingPlacesFlashcards = [
          // Place Meaning
          {
            id: idCounter++,
            question: "Describe the key details of the Ground Zero case study.",
            answer: caseStudyFacts["Ground Zero"],
            topic: "Changing Places",
            subtopic: "Place Meaning",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain how places can have different meanings for different groups.",
            answer: `<ul>
              <li>Insiders vs outsiders perspectives</li>
              <li>Historical vs contemporary meanings</li>
              <li>Personal experiences shape perceptions</li>
              <li>Media representation influences understanding</li>
              <li>Example: Ground Zero as memorial vs tourist site</li>
            </ul>`,
            topic: "Changing Places",
            subtopic: "Place Meaning",
            type: "conceptual"
          },
          // Artistic Representation
          {
            id: idCounter++,
            question: "How can artistic representations influence our perception of place?",
            answer: `<ul>
              <li>Art can capture emotional connections to place</li>
              <li>Can challenge or reinforce stereotypes</li>
              <li>Provides alternative perspectives on place</li>
              <li>Example: Songs about New York shaping its image</li>
              <li>Art can document changes in places over time</li>
            </ul>`,
            topic: "Changing Places",
            subtopic: "Artistic Representation",
            type: "conceptual"
          },
          // Changing Places
          {
            id: idCounter++,
            question: "Describe the key details of the Detroit case study.",
            answer: caseStudyFacts["Detroit"],
            topic: "Changing Places",
            subtopic: "Changing Places",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Analyze the causes of Detroit's economic decline.",
            answer: `<ul>
              <li>Decline of automobile industry</li>
              <li>Globalization and outsourcing of manufacturing</li>
              <li>Racial tensions and white flight</li>
              <li>Poor urban planning decisions</li>
              <li>Failure to diversify economy</li>
            </ul>`,
            topic: "Changing Places",
            subtopic: "Changing Places",
            type: "conceptual"
          },
          // Forces of Change
          {
            id: idCounter++,
            question: "Describe the key details of the Medellin case study.",
            answer: caseStudyFacts["Medellin"],
            topic: "Changing Places",
            subtopic: "Forces of Change",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Evaluate the role of urban planning in Medellin's transformation.",
            answer: `<ul>
              <li>Social urbanism approach focused on poorest areas</li>
              <li>Cable cars connecting hillside favelas to city center</li>
              <li>Library parks as community hubs</li>
              <li>Improved public transportation reduced segregation</li>
              <li>Combined physical and social interventions</li>
            </ul>`,
            topic: "Changing Places",
            subtopic: "Forces of Change",
            type: "conceptual"
          },
          // Rebranding
          {
            id: idCounter++,
            question: "Describe the key details of the London Olympics rebranding case study.",
            answer: caseStudyFacts["London Olympics"],
            topic: "Changing Places",
            subtopic: "Rebranding",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Assess the effectiveness of the London Olympics in regenerating East London.",
            answer: `<ul>
              <li>Successes: Improved infrastructure, new housing, Olympic Park legacy</li>
              <li>Challenges: Gentrification concerns, affordability issues</li>
              <li>Mixed results on promised employment benefits</li>
              <li>Long-term economic impact still being evaluated</li>
              <li>Improved international image of London</li>
            </ul>`,
            topic: "Changing Places",
            subtopic: "Rebranding",
            type: "conceptual"
          }
        ];
        
        // Combine all flashcards
        generatedFlashcards = [
          ...hazardsFlashcards,
          ...changingPlacesFlashcards,
          // Add flashcards for other topics...
        ];
        
        setFlashcards(generatedFlashcards);
        setFilteredCards(generatedFlashcards);
      }, []);
      
      // Initialize flashcards
      React.useEffect(() => {
        generateFlashcards();
      }, [generateFlashcards]);
      
      // Filter flashcards based on selections
      React.useEffect(() => {
        let filtered = [...flashcards];
        
        // Filter by search term
        if (searchTerm) {
          const term = searchTerm.toLowerCase();
          filtered = filtered.filter(card =>
            card.question.toLowerCase().includes(term) ||
            card.answer.toLowerCase().includes(term) ||
            card.subtopic.toLowerCase().includes(term)
          );
        }
        
        // Filter by topic
        if (selectedTopic) {
          filtered = filtered.filter(card => card.topic === selectedTopic);
        }
        
        // Filter by subtopic
        if (selectedSubtopic) {
          filtered = filtered.filter(card => card.subtopic === selectedSubtopic);
        }
        
        // Filter by bookmarks if in bookmarks view
        if (view === 'bookmarks') {
          filtered = filtered.filter(card => bookmarkedCards.includes(card.id));
        }
        
        setFilteredCards(filtered);
        setCurrentCardIndex(0);
        setShowAnswer(false);
      }, [flashcards, searchTerm, selectedTopic, selectedSubtopic, view, bookmarkedCards]);
      
      // Check if a card is bookmarked
      const isCardBookmarked = React.useCallback((cardId) => {
        return bookmarkedCards.includes(cardId);
      }, [bookmarkedCards]);
      
      // Check if a subtopic is bookmarked
      const isSubtopicBookmarked = React.useCallback((subtopic) => {
        const topic = topicConfig.find(t => t.subtopics.includes(subtopic));
        if (!topic) return false;
        
        const bookmarkId = `${topic.id}-${subtopic.toLowerCase().replace(' ', '-')}`;
        return bookmarkedTopics.includes(bookmarkId);
      }, [bookmarkedTopics]);
      
      // Select a topic with animation
      const selectTopic = (topic) => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedTopic(topic);
          setSelectedSubtopic(null);
          setView('subtopics');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Select a subtopic with animation
      const selectSubtopic = (subtopic) => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedSubtopic(subtopic);
          setView('flashcards');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Go back to topics view
      const goBackToTopics = () => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedTopic(null);
          setSelectedSubtopic(null);
          setView('topics');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Go back to subtopics view
      const goBackToSubtopics = () => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedSubtopic(null);
          setView('subtopics');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Show bookmarked cards
      const showBookmarks = () => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedTopic(null);
          setSelectedSubtopic(null);
          setView('bookmarks');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Toggle bookmark for a card
      const toggleCardBookmark = (cardId) => {
        if (bookmarkedCards.includes(cardId)) {
          setBookmarkedCards(bookmarkedCards.filter(id => id !== cardId));
        } else {
          setBookmarkedCards([...bookmarkedCards, cardId]);
        }
      };
      
      // Toggle bookmark for a subtopic
      const toggleSubtopicBookmark = (subtopic) => {
        const topic = topicConfig.find(t => t.subtopics.includes(subtopic));
        if (!topic) return;
        
        const bookmarkId = `${topic.id}-${subtopic.toLowerCase().replace(' ', '-')}`;
        
        if (bookmarkedTopics.includes(bookmarkId)) {
          setBookmarkedTopics(bookmarkedTopics.filter(id => id !== bookmarkId));
        } else {
          setBookmarkedTopics([...bookmarkedTopics, bookmarkId]);
        }
      };
      
      // Navigate to next card
      const nextCard = () => {
        if (filteredCards.length === 0) return;
        
        setIsFlipping(true);
        setTimeout(() => {
          setCurrentCardIndex(prev => 
            prev < filteredCards.length - 1 ? prev + 1 : 0
          );
          setShowAnswer(false);
          setIsFlipping(false);
        }, 300);
      };
      
      // Navigate to previous card
      const prevCard = () => {
        if (filteredCards.length === 0 || currentCardIndex === 0) return;
        
        setIsFlipping(true);
        setTimeout(() => {
          setCurrentCardIndex(prev => prev - 1);
          setShowAnswer(false);
          setIsFlipping(false);
        }, 300);
      };
      
      // Toggle answer visibility
      const toggleAnswer = () => {
        if (isFlipping || filteredCards.length === 0) return;
        
        setIsFlipping(true);
        setTimeout(() => {
          setShowAnswer(!showAnswer);
          setIsFlipping(false);
        }, 150);
      };
      
      // Get the number of cards for a subtopic
      const getSubtopicCardCount = (subtopic) => {
        return flashcards.filter(card => 
          card.subtopic === subtopic && 
          (!selectedTopic || card.topic === selectedTopic)
        ).length;
      };
      
      // Get subtopic icon
      const getSubtopicIcon = (subtopic) => {
        const topic = topicConfig.find(t => t.subtopics.includes(subtopic));
        if (!topic || !topic.subtopicIcons) return 'fa-folder';
        return topic.subtopicIcons[subtopic] || 'fa-folder';
      };
      
      // Keyboard navigation
      React.useEffect(() => {
        const handleKeyDown = (e) => {
          if (view !== 'flashcards') return;
          
          switch(e.key) {
            case 'ArrowRight':
              nextCard();
              break;
            case 'ArrowLeft':
              prevCard();
              break;
            case ' ':
            case 'Enter':
              e.preventDefault();
              toggleAnswer();
              break;
            default:
              break;
          }
        };
        
        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [view, filteredCards, currentCardIndex, showAnswer]);
      
      return (
        <ErrorBoundary>
          <div id="app-container">
            <div className="app-header">
              <h1 className="app-title">Geography Flashcards</h1>
            </div>
            
            <div className="app-layout">
              <div className="sidebar">
                <div className="sidebar-section">
                  <div className="search-container">
                    <i className="fas fa-search search-icon"></i>
                    <input
                      type="text"
                      className="search-input"
                      placeholder="Search flashcards..."
                      value={searchTerm}
                      onChange={(e) => setSearchTerm(e.target.value)}
                      aria-label="Search flashcards"
                    />
                  </div>
                </div>
                
                <div className={`sidebar-section ${animationClass}`}>
                  {view === 'topics' && (
                    <>
                      <div className="sidebar-title">
                        <i className="fas fa-layer-group"></i>
                        Topics
                      </div>
                      
                      <div className="topic-grid">
                        {topicConfig.map(topic => (
                          <button
                            key={topic.id}
                            className="topic-card"
                            onClick={() => selectTopic(topic.name)}
                            aria-label={`Select ${topic.name} topic`}
                          >
                            <i className={`fas ${topic.icon} topic-icon`}></i>
                            <div className="topic-name">{topic.name}</div>
                          </button>
                        ))}
                      </div>
                      
                      <div className="bookmarks-section">
                        <button
                          className="topic-card"
                          onClick={showBookmarks}
                          style={{ marginTop: '12px' }}
                          aria-label="View bookmarked cards"
                        >
                          <i className="fas fa-bookmark topic-icon"></i>
                          <div className="topic-name">Bookmarks</div>
                        </button>
                      </div>
                    </>
                  )}
                  
                  {(view === 'subtopics' || view === 'flashcards') && selectedTopic && (
                    <div className="subtopic-container">
                      <button 
                        className="back-btn" 
                        onClick={view === 'subtopics' ? goBackToTopics : goBackToSubtopics}
                        aria-label={`Go back to ${view === 'subtopics' ? 'topics' : 'subtopics'}`}
                      >
                        <i className="fas fa-arrow-left"></i>
                        {view === 'subtopics' ? 'Back to Topics' : 'Back to Subtopics'}
                      </button>
                      
                      {view === 'subtopics' && (
                        <>
                          <div className="sidebar-title">
                            <i className={`fas ${topicConfig.find(t => t.name === selectedTopic)?.icon || 'fa-folder'}`}></i>
                            {selectedTopic} Subtopics
                          </div>
                          
                          <div className="subtopic-list">
                            {topicConfig.find(t => t.name === selectedTopic)?.subtopics.map(subtopic => (
                              <div
                                key={subtopic}
                                className="subtopic-card"
                                onClick={() => selectSubtopic(subtopic)}
                                aria-label={`Select ${subtopic} subtopic`}
                                role="button"
                                tabIndex="0"
                                onKeyDown={(e) => e.key === 'Enter' && selectSubtopic(subtopic)}
                              >
                                <div className="subtopic-name">
                                  <i className={`fas ${getSubtopicIcon(subtopic)} subtopic-icon`}></i>
                                  {subtopic}
                                </div>
                                <div className="subtopic-count">
                                  {getSubtopicCardCount(subtopic)} cards
                                </div>
                                <button
                                  className={`bookmark-btn ${isSubtopicBookmarked(subtopic) ? 'active' : ''}`}
                                  onClick={(e) => {
                                    e.stopPropagation();
                                    toggleSubtopicBookmark(subtopic);
                                  }}
                                  aria-label={`${isSubtopicBookmarked(subtopic) ? 'Remove' : 'Add'} bookmark for ${subtopic}`}
                                >
                                  <i className="fas fa-bookmark"></i>
                                </button>
                              </div>
                            ))}
                          </div>
                        </>
                      )}
                    </div>
                  )}
                  
                  {view === 'bookmarks' && (
                    <div className="subtopic-container">
                      <button 
                        className="back-btn" 
                        onClick={goBackToTopics}
                        aria-label="Go back to topics"
                      >
                        <i className="fas fa-arrow-left"></i>
                        Back to Topics
                      </button>
                      
                      <div className="sidebar-title">
                        <i className="fas fa-bookmark"></i>
                        Bookmarked Cards
                      </div>
                      
                      {bookmarkedCards.length > 0 ? (
                        <p style={{ color: 'var(--gray)', marginBottom: '16px' }}>
                          Showing {bookmarkedCards.length} bookmarked cards
                        </p>
                      ) : (
                        <div className="empty-state">
                          <i className="fas fa-bookmark"></i>
                          <h3>No bookmarks yet</h3>
                          <p>Bookmark cards to see them here</p>
                        </div>
                      )}
                    </div>
                  )}
                </div>
              </div>
              
              <div className="flashcard-view">
                {view === 'flashcards' && filteredCards.length > 0 ? (
                  <>
                    <div className="flashcard-header">
                      <div className="flashcard-progress">
                        Card {currentCardIndex + 1} of {filteredCards.length}
                        {selectedSubtopic && ` • ${selectedSubtopic}`}
                      </div>
                      <div className="flashcard-actions">
                        <button
                          className={`action-btn ${isCardBookmarked(filteredCards[currentCardIndex].id) ? 'bookmarked' : ''}`}
                          onClick={() => toggleCardBookmark(filteredCards[currentCardIndex].id)}
                          title="Bookmark this card"
                          aria-label={`${isCardBookmarked(filteredCards[currentCardIndex].id) ? 'Remove' : 'Add'} bookmark`}
                        >
                          <i className="fas fa-bookmark"></i>
                        </button>
                      </div>
                    </div>
                    
                    <div 
                      className="flashcard-content" 
                      onClick={toggleAnswer}
                      role="button"
                      tabIndex="0"
                      aria-label={showAnswer ? 'Hide answer' : 'Show answer'}
                      onKeyDown={(e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                          toggleAnswer();
                        }
                      }}
                    >
                      <div className={`flashcard ${isFlipping ? 'flipping' : ''}`}>
                        <div className="flashcard-subtopic">
                          <i className={`fas ${filteredCards[currentCardIndex].type === 'caseStudy' ? 'fa-map-marked-alt' : 'fa-brain'}`}></i>
                          {filteredCards[currentCardIndex].subtopic}
                        </div>
                        
                        {!showAnswer ? (
                          <div className="flashcard-question">
                            <h3>
                              <i className="fas fa-question-circle"></i>
                              Question
                            </h3>
                            <p>{filteredCards[currentCardIndex].question}</p>
                          </div>
                        ) : (
                          <div className="flashcard-answer">
                            <h3>
                              <i className="fas fa-lightbulb"></i>
                              Answer
                            </h3>
                            <div 
                              className="flashcard-answer-content"
                              dangerouslySetInnerHTML={{ __html: filteredCards[currentCardIndex].answer }}
                            />
                          </div>
                        )}
                      </div>
                      
                      <div className="flashcard-instruction">
                        {!showAnswer ? 'Click to reveal answer' : 'Click to hide answer'}
                      </div>
                    </div>
                    
                    <div className="flashcard-nav">
                      <button 
                        className="nav-btn prev"
                        onClick={prevCard}
                        disabled={currentCardIndex === 0}
                        aria-label="Previous card"
                      >
                        <i className="fas fa-arrow-left"></i>
                        Previous
                      </button>
                      <button 
                        className="nav-btn next"
                        onClick={nextCard}
                        aria-label="Next card"
                      >
                        Next
                        <i className="fas fa-arrow-right"></i>
                      </button>
                    </div>
                  </>
                ) : view === 'flashcards' ? (
                  <div className="empty-state">
                    <i className="fas fa-map"></i>
                    <h3>No flashcards found</h3>
                    <p>Try changing your search or selection criteria</p>
                    <button 
                      className="nav-btn next"
                      onClick={goBackToSubtopics}
                      aria-label="Back to subtopics"
                    >
                      <i className="fas fa-arrow-left"></i>
                      Back to Subtopics
                    </button>
                  </div>
                ) : (
                  <div className="empty-state">
                    <i className="fas fa-globe"></i>
                    <h3>Select a topic to begin</h3>
                    <p>Choose from the topics on the left to view flashcards</p>
                  </div>
                )}
              </div>
            </div>
          </div>
        </ErrorBoundary>
      );
    };
    
    ReactDOM.render(
      <GeographyFlashcardApp />,
      document.getElementById('app-container')
    );
  </script>
</body>
</html>