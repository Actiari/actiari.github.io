<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/x-icon" href="./Miscellaneous/Main_Favicon.ico">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* All your CSS styles remain exactly the same */
    :root {
      --primary: #2e7d32;
      --primary-dark: #1b5e20;
      --primary-light: #81c784;
      --secondary: #388e3c;
      --accent: #66bb6a;
      --dark: #1a2e1a;
      --light: #f8f9fa;
      --success: #4caf50;
      --warning: #ffa000;
      --danger: #d32f2f;
      --gray: #616161;
      --gray-light: #e8f5e9;
      --border-radius: 12px;
      --box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    /* ... rest of your CSS ... */
  </style>
  <title>Geography Flashcards</title>
  <!-- React and ReactDOM CDN -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <!-- Navigation -->
  <div class="nav-container">
    <a href="index.html" class="logo">
      <img src="Logo.png" alt="Geography Flashcards Logo" style="height: 38px;">
    </a>
    <button class="menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
      <i class="fas fa-bars"></i>
    </button>
    <ul class="nav-menu">
      <li><a href="PR.html">GCSE Past Papers</a></li>
      <li><a href="APR.html">A Level Papers</a></li>
      <li><a href="SPBE.html">Geography Flashcards</a></li>
      <li><a href="BWT.html">Case Studies</a></li>
    </ul>
  </div>

  <script>
    // Navigation menu toggle functionality
    document.addEventListener('DOMContentLoaded', function() {
      const menuToggle = document.querySelector('.menu-toggle');
      const navMenu = document.querySelector('.nav-menu');

      if (menuToggle && navMenu) {
        menuToggle.addEventListener('click', function(e) {
          e.stopPropagation();
          const isExpanded = navMenu.classList.toggle('active');
          this.setAttribute('aria-expanded', isExpanded);
        });

        document.addEventListener('click', function(event) {
          if (navMenu.classList.contains('active') &&
              !navMenu.contains(event.target) &&
              !menuToggle.contains(event.target)) {
            navMenu.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');
          }
        });

        window.addEventListener('resize', function() {
          if (window.innerWidth > 992) {
            navMenu.classList.remove('active');
            menuToggle.setAttribute('aria-expanded', 'false');
          }
        });
      }
    });
  </script>
  
  <!-- React App Container -->
  <div id="app-container"></div>
  
  <!-- React Component -->
  <script type="text/babel">
    class ErrorBoundary extends React.Component {
      constructor(props) {
        super(props);
        this.state = { hasError: false };
      }
    
      static getDerivedStateFromError(error) {
        return { hasError: true };
      }
    
      componentDidCatch(error, errorInfo) {
        console.error('Error caught by ErrorBoundary:', error, errorInfo);
      }
    
      render() {
        if (this.state.hasError) {
          return (
            <div className="error-boundary">
              <h3>Something went wrong</h3>
              <p>Please refresh the page to continue</p>
              <button 
                className="nav-btn next"
                onClick={() => window.location.reload()}
              >
                <i className="fas fa-sync-alt"></i>
                Refresh Page
              </button>
            </div>
          );
        }
        return this.props.children;
      }
    }

    const GeographyFlashcardApp = () => {
      // State
      const [flashcards, setFlashcards] = React.useState([]);
      const [filteredCards, setFilteredCards] = React.useState([]);
      const [currentCardIndex, setCurrentCardIndex] = React.useState(0);
      const [showAnswer, setShowAnswer] = React.useState(false);
      const [isFlipping, setIsFlipping] = React.useState(false);
      const [searchTerm, setSearchTerm] = React.useState('');
      const [selectedTopic, setSelectedTopic] = React.useState(null);
      const [selectedSubtopic, setSelectedSubtopic] = React.useState(null);
      const [bookmarkedCards, setBookmarkedCards] = React.useState([]);
      const [bookmarkedTopics, setBookmarkedTopics] = React.useState([]);
      const [view, setView] = React.useState('topics');
      const [animationClass, setAnimationClass] = React.useState('');
      
      // Topic configuration
      const topicConfig = [
        {
          id: 'hazards',
          name: 'Hazards',
          icon: 'fa-mountain',
          color: '#2e7d32',
          subtopics: ["Volcanoes", "Tsunamis", "Earthquakes", "Tropical Storms", "Wildfires"]
        },
        {
          id: 'changing-places',
          name: 'Changing Places',
          icon: 'fa-city',
          color: '#1565c0',
          subtopics: ["Place Meaning", "Artistic Representation", "Changing Places", "Forces of Change", "Rebranding"]
        },
        {
          id: 'global-governance',
          name: 'Global Governance',
          icon: 'fa-globe',
          color: '#6a1b9a',
          subtopics: ["Global Systems", "Global Inequality", "International Agreements", "Global Institutions"]
        },
        {
          id: 'coasts',
          name: 'Coasts',
          icon: 'fa-water',
          color: '#0277bd',
          subtopics: ["Coastal Processes", "Landforms", "Management", "Case Studies"]
        },
        {
          id: 'carbon',
          name: 'Carbon',
          icon: 'fa-leaf',
          color: '#2e7d32',
          subtopics: ["Carbon Cycle", "Energy Security", "Climate Change", "Mitigation"]
        },
        {
          id: 'water',
          name: 'Water',
          icon: 'fa-tint',
          color: '#0288d1',
          subtopics: ["Water Cycle", "Water Security", "Management", "Case Studies"]
        },
        {
          id: 'contemporary-urban',
          name: 'Contemporary Urban',
          icon: 'fa-building',
          color: '#6a1b9a',
          subtopics: ["Urban Processes", "Urban Climate", "Urban Drainage", "Sustainable Cities"]
        }
      ];
      
      // Case study facts
      const caseStudyFacts = {
        "Mt Etna": `<ul><li>VEI: 2-3</li><li>2021 eruption: ash plume up to 3 km high</li><li>Casualties: minimal due to monitoring</li></ul>`,
        "Mt Merapi": `<ul><li>2010 eruption: VEI 4</li><li>Deaths: ~353</li><li>Injuries: &gt;1,000; significant infrastructure damage</li></ul>`,
        "Eyjafjallajökull": `<ul><li>2010 eruption: VEI 4</li><li>Ash cloud: reached 9 km high, disrupted European air travel for 6 days</li><li>Direct casualties: minimal</li></ul>`,
        "Montserrat": `<ul><li>Active since 1995</li><li>Evacuation: ~2/3 of population</li><li>Long-term socio-economic impact</li></ul>`,
        "Yellowstone": `<ul><li>Supervolcano; last major eruption: &gt;600,000 years ago</li><li>Potential eruption: VEI 8; catastrophic global impact</li></ul>`,
        "Boxing Day Tsunami": `<ul><li>Triggered by 9.1-9.3 magnitude earthquake in 2004</li><li>Deaths: ~230,000</li><li>Massive infrastructural damage</li></ul>`,
        "Haiti": `<ul><li>2010 earthquake: magnitude 7.0</li><li>Deaths: &gt;230,000; Injuries: ~300,000</li><li>Damage: $8-14 billion</li></ul>`,
        "Cyclone Nargis": `<ul><li>2008 event in Myanmar</li><li>Deaths: ~138,000; Millions displaced</li><li>Severe infrastructure damage</li></ul>`,
        "Hurricane Katrina": `<ul><li>2005 event: ~1,833 deaths</li><li>Displacement: &gt;250,000 people</li><li>Damage: &gt;$125 billion</li></ul>`,
        "LA Wildfire": `<ul><li>Recent events: evacuations and property losses &gt;$2 billion</li><li>Widespread damage in urban areas</li></ul>`,
        "Alberta Wildfire": `<ul><li>2016 season: burned millions of acres</li><li>Significant regional damage</li></ul>`,
        "Tohoku": `<ul><li>2011 earthquake/tsunami: magnitude 9.0</li><li>Deaths: ~15,000; nuclear crisis triggered</li><li>Long-term environmental and infrastructural challenges</li></ul>`,
        "Typhoon Haiyan": `<ul><li>2013 event in the Philippines</li><li>Deaths: &gt;6,300; one of the strongest cyclones recorded</li><li>Widespread destruction</li></ul>`,
        "Ground Zero": `<ul><li>Site of 9/11 attacks; major redevelopment</li><li>Significantly impacted New York's economic and cultural identity</li></ul>`,
        "Plymouth": `<ul><li>Underwent substantial economic changes and urban regeneration</li><li>Shift in population and employment trends</li></ul>`,
        "Detroit": `<ul><li>Population decline of over 60% from peak</li><li>Significant economic loss due to industrial decline; revitalisation efforts ongoing</li></ul>`,
        "London Olympics": `<ul><li>2012 Olympics spurred major urban regeneration</li><li>Boosted local economy and altered demographic patterns</li></ul>`,
        "Medellin": `<ul><li>Transformation from violence to innovation-driven urban revival</li><li>Enhanced urban design and economic growth</li></ul>`,
        "Bourneville": `<ul><li>Industrial heritage from Cadburys</li><li>Economic changes redefined community identity</li></ul>`,
        "Devonport": `<ul><li>Shift in naval and industrial activity</li><li>Notable demographic and economic changes</li></ul>`,
        "Stonehenge": `<ul><li>Iconic monument driving tourism</li><li>Major contributor to regional economic activity and identity</li></ul>`,
        "Glastonbury": `<ul><li>Famous for cultural festivals and historical legacy</li><li>Exemplifies the blend of heritage and modern economic trends</li></ul>`
      };
      
      // Generate flashcards
      const generateFlashcards = React.useCallback(() => {
        let generatedFlashcards = [];
        let idCounter = 1;
        
        // Hazards flashcards
        const hazardsFlashcards = [
          {
            id: idCounter++,
            question: "Describe the key details of the Mt Etna case study.",
            answer: caseStudyFacts["Mt Etna"],
            topic: "Hazards",
            subtopic: "Volcanoes",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Analyze the immediate and long-term responses for Mt Etna.",
            answer: `<ul><li>Immediate: Evacuation plans activated, air traffic diverted</li><li>Long-term: Continuous monitoring systems upgraded, tourism management improved</li></ul>`,
            topic: "Hazards",
            subtopic: "Volcanoes",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Compare the eruptions of Mt Etna and Mt Merapi.",
            answer: `<ul><li>Mt Etna: Frequent but less violent eruptions, well-monitored</li><li>Mt Merapi: More explosive eruptions, higher casualty rates</li><li>Both: Significant economic impacts but different management approaches</li></ul>`,
            topic: "Hazards",
            subtopic: "Volcanoes",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of the Boxing Day Tsunami case study.",
            answer: caseStudyFacts["Boxing Day Tsunami"],
            topic: "Hazards",
            subtopic: "Tsunamis",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain why the 2004 Indian Ocean tsunami was so devastating.",
            answer: `<ul><li>Magnitude 9.1-9.3 earthquake generated massive wave energy</li><li>Lack of early warning system in Indian Ocean region</li><li>High population density in coastal areas</li><li>Low-lying coastal topography increased inundation</li></ul>`,
            topic: "Hazards",
            subtopic: "Tsunamis",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of the Haiti earthquake case study.",
            answer: caseStudyFacts["Haiti"],
            topic: "Hazards",
            subtopic: "Earthquakes",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain why the 2010 Haiti earthquake was particularly destructive.",
            answer: `<ul><li>Shallow focus (13km) increased surface shaking</li><li>Poor building construction standards</li><li>High population density in Port-au-Prince</li><li>Limited emergency response capacity</li><li>Pre-existing poverty and poor infrastructure</li></ul>`,
            topic: "Hazards",
            subtopic: "Earthquakes",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of Hurricane Katrina.",
            answer: caseStudyFacts["Hurricane Katrina"],
            topic: "Hazards",
            subtopic: "Tropical Storms",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Compare the impacts of Hurricane Katrina and Cyclone Nargis.",
            answer: `<ul><li>Katrina: $125 billion damage, 1,833 deaths, mostly in USA</li><li>Nargis: ~138,000 deaths, millions displaced, Myanmar</li><li>Different response capacities due to economic differences</li><li>Both highlighted need for better preparedness</li></ul>`,
            topic: "Hazards",
            subtopic: "Tropical Storms",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of the Alberta wildfire case study.",
            answer: caseStudyFacts["Alberta Wildfire"],
            topic: "Hazards",
            subtopic: "Wildfires",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain the factors that contributed to the severity of the Alberta wildfires.",
            answer: `<ul><li>Unusually hot and dry weather conditions</li><li>Abundant fuel from boreal forest</li><li>Strong winds spread fires rapidly</li><li>Proximity to Fort McMurray increased economic impact</li><li>Climate change increasing wildfire risk in boreal regions</li></ul>`,
            topic: "Hazards",
            subtopic: "Wildfires",
            type: "conceptual"
          }
        ];
        
        // Changing Places flashcards
        const changingPlacesFlashcards = [
          {
            id: idCounter++,
            question: "Describe the key details of the Ground Zero case study.",
            answer: caseStudyFacts["Ground Zero"],
            topic: "Changing Places",
            subtopic: "Place Meaning",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Explain how places can have different meanings for different groups.",
            answer: `<ul><li>Insiders vs outsiders perspectives</li><li>Historical vs contemporary meanings</li><li>Personal experiences shape perceptions</li><li>Media representation influences understanding</li><li>Example: Ground Zero as memorial vs tourist site</li></ul>`,
            topic: "Changing Places",
            subtopic: "Place Meaning",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "How can artistic representations influence our perception of place?",
            answer: `<ul><li>Art can capture emotional connections to place</li><li>Can challenge or reinforce stereotypes</li><li>Provides alternative perspectives on place</li><li>Example: Songs about New York shaping its image</li><li>Art can document changes in places over time</li></ul>`,
            topic: "Changing Places",
            subtopic: "Artistic Representation",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of the Detroit case study.",
            answer: caseStudyFacts["Detroit"],
            topic: "Changing Places",
            subtopic: "Changing Places",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Analyze the causes of Detroit's economic decline.",
            answer: `<ul><li>Decline of automobile industry</li><li>Globalization and outsourcing of manufacturing</li><li>Racial tensions and white flight</li><li>Poor urban planning decisions</li><li>Failure to diversify economy</li></ul>`,
            topic: "Changing Places",
            subtopic: "Changing Places",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of the Medellin case study.",
            answer: caseStudyFacts["Medellin"],
            topic: "Changing Places",
            subtopic: "Forces of Change",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Evaluate the role of urban planning in Medellin's transformation.",
            answer: `<ul><li>Social urbanism approach focused on poorest areas</li><li>Cable cars connecting hillside favelas to city center</li><li>Library parks as community hubs</li><li>Improved public transportation reduced segregation</li><li>Combined physical and social interventions</li></ul>`,
            topic: "Changing Places",
            subtopic: "Forces of Change",
            type: "conceptual"
          },
          {
            id: idCounter++,
            question: "Describe the key details of the London Olympics rebranding case study.",
            answer: caseStudyFacts["London Olympics"],
            topic: "Changing Places",
            subtopic: "Rebranding",
            type: "caseStudy"
          },
          {
            id: idCounter++,
            question: "Assess the effectiveness of the London Olympics in regenerating East London.",
            answer: `<ul><li>Successes: Improved infrastructure, new housing, Olympic Park legacy</li><li>Challenges: Gentrification concerns, affordability issues</li><li>Mixed results on promised employment benefits</li><li>Long-term economic impact still being evaluated</li><li>Improved international image of London</li></ul>`,
            topic: "Changing Places",
            subtopic: "Rebranding",
            type: "conceptual"
          }
        ];
        
        // Combine all flashcards
        generatedFlashcards = [...hazardsFlashcards, ...changingPlacesFlashcards];
        setFlashcards(generatedFlashcards);
        setFilteredCards(generatedFlashcards);
      }, []);
      
      // Initialize flashcards
      React.useEffect(() => {
        generateFlashcards();
      }, [generateFlashcards]);
      
      // Load saved data from localStorage
      React.useEffect(() => {
        try {
          const savedBookmarkedCards = localStorage.getItem('bookmarkedCards');
          const savedBookmarkedTopics = localStorage.getItem('bookmarkedTopics');
          
          if (savedBookmarkedCards) {
            setBookmarkedCards(JSON.parse(savedBookmarkedCards));
          }
          
          if (savedBookmarkedTopics) {
            setBookmarkedTopics(JSON.parse(savedBookmarkedTopics));
          }
        } catch (error) {
          console.error('Error loading bookmarks:', error);
        }
      }, []);
      
      // Save bookmarks to localStorage when they change
      React.useEffect(() => {
        try {
          localStorage.setItem('bookmarkedCards', JSON.stringify(bookmarkedCards));
          localStorage.setItem('bookmarkedTopics', JSON.stringify(bookmarkedTopics));
        } catch (error) {
          console.error('Error saving bookmarks:', error);
        }
      }, [bookmarkedCards, bookmarkedTopics]);
      
      // Filter flashcards based on selections
      React.useEffect(() => {
        let filtered = [...flashcards];
        
        if (searchTerm) {
          const term = searchTerm.toLowerCase();
          filtered = filtered.filter(card =>
            card.question.toLowerCase().includes(term) ||
            card.answer.toLowerCase().includes(term) ||
            card.subtopic.toLowerCase().includes(term)
          );
        }
        
        if (selectedTopic) {
          filtered = filtered.filter(card => card.topic === selectedTopic);
        }
        
        if (selectedSubtopic) {
          filtered = filtered.filter(card => card.subtopic === selectedSubtopic);
        }
        
        if (view === 'bookmarks') {
          filtered = filtered.filter(card => bookmarkedCards.includes(card.id));
        }
        
        setFilteredCards(filtered);
        setCurrentCardIndex(0);
        setShowAnswer(false);
      }, [flashcards, searchTerm, selectedTopic, selectedSubtopic, view, bookmarkedCards]);
      
      // Check if a card is bookmarked
      const isCardBookmarked = React.useCallback((cardId) => {
        return bookmarkedCards.includes(cardId);
      }, [bookmarkedCards]);
      
      // Check if a subtopic is bookmarked
      const isSubtopicBookmarked = React.useCallback((subtopic) => {
        const topic = topicConfig.find(t => t.subtopics.includes(subtopic));
        if (!topic) return false;
        
        const bookmarkId = `${topic.id}-${subtopic.toLowerCase().replace(' ', '-')}`;
        return bookmarkedTopics.includes(bookmarkId);
      }, [bookmarkedTopics]);
      
      // Select a topic with animation
      const selectTopic = (topic) => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedTopic(topic);
          setSelectedSubtopic(null);
          setView('subtopics');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Select a subtopic with animation
      const selectSubtopic = (subtopic) => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedSubtopic(subtopic);
          setView('flashcards');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Go back to topics view
      const goBackToTopics = () => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedTopic(null);
          setSelectedSubtopic(null);
          setView('topics');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Go back to subtopics view
      const goBackToSubtopics = () => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedSubtopic(null);
          setView('subtopics');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Show bookmarked cards
      const showBookmarks = () => {
        setAnimationClass('slide-out');
        setTimeout(() => {
          setSelectedTopic(null);
          setSelectedSubtopic(null);
          setView('bookmarks');
          setAnimationClass('slide-in');
        }, 300);
      };
      
      // Toggle bookmark for a card
      const toggleCardBookmark = (cardId) => {
        if (bookmarkedCards.includes(cardId)) {
          setBookmarkedCards(bookmarkedCards.filter(id => id !== cardId));
        } else {
          setBookmarkedCards([...bookmarkedCards, cardId]);
        }
      };
      
      // Toggle bookmark for a subtopic
      const toggleSubtopicBookmark = (subtopic) => {
        const topic = topicConfig.find(t => t.subtopics.includes(subtopic));
        if (!topic) return;
        
        const bookmarkId = `${topic.id}-${subtopic.toLowerCase().replace(' ', '-')}`;
        
        if (bookmarkedTopics.includes(bookmarkId)) {
          setBookmarkedTopics(bookmarkedTopics.filter(id => id !== bookmarkId));
        } else {
          setBookmarkedTopics([...bookmarkedTopics, bookmarkId]);
        }
      };
      
      // Navigate to next card
      const nextCard = () => {
        if (filteredCards.length === 0) return;
        
        setIsFlipping(true);
        setTimeout(() => {
          setCurrentCardIndex(prev => 
            prev < filteredCards.length - 1 ? prev + 1 : 0
          );
          setShowAnswer(false);
          setIsFlipping(false);
        }, 300);
      };
      
      // Navigate to previous card
      const prevCard = () => {
        if (filteredCards.length === 0 || currentCardIndex === 0) return;
        
        setIsFlipping(true);
        setTimeout(() => {
          setCurrentCardIndex(prev => prev - 1);
          setShowAnswer(false);
          setIsFlipping(false);
        }, 300);
      };
      
      // Toggle answer visibility
      const toggleAnswer = () => {
        if (isFlipping || filteredCards.length === 0) return;
        
        setIsFlipping(true);
        setTimeout(() => {
          setShowAnswer(!showAnswer);
          setIsFlipping(false);
        }, 150);
      };
      
      // Get the number of cards for a subtopic
      const getSubtopicCardCount = (subtopic) => {
        return flashcards.filter(card => 
          card.subtopic === subtopic && 
          (!selectedTopic || card.topic === selectedTopic)
        ).length;
      };
      
      // Keyboard navigation
      React.useEffect(() => {
        const handleKeyDown = (e) => {
          if (view !== 'flashcards') return;
          
          switch(e.key) {
            case 'ArrowRight':
              nextCard();
              break;
            case 'ArrowLeft':
              prevCard();
              break;
            case ' ':
            case 'Enter':
              e.preventDefault();
              toggleAnswer();
              break;
            default:
              break;
          }
        };
        
        window.addEventListener('keydown', handleKeyDown);
        return () => window.removeEventListener('keydown', handleKeyDown);
      }, [view, filteredCards, currentCardIndex, showAnswer]);
      
      return (
        <ErrorBoundary>
          <div id="app-container">
            <div className="app-header">
              <h1 className="app-title">Geography Flashcards</h1>
            </div>
            
            <div className="app-layout">
              <div className="sidebar">
                <div className="sidebar-section">
                  <div className="search-container">
                    <i className="fas fa-search search-icon"></i>
                    <input
                      type="text"
                      className="search-input"
                      placeholder="Search flashcards..."
                      value={searchTerm}
                      onChange={(e) => setSearchTerm(e.target.value)}
                      aria-label="Search flashcards"
                    />
                  </div>
                </div>
                
                <div className={`sidebar-section ${animationClass}`}>
                  {view === 'topics' && (
                    <>
                      <div className="sidebar-title">
                        <i className="fas fa-layer-group"></i>
                        Topics
                      </div>
                      
                      <div className="topic-grid">
                        {topicConfig.map(topic => (
                          <button
                            key={topic.id}
                            className="topic-card"
                            onClick={() => selectTopic(topic.name)}
                            aria-label={`Select ${topic.name} topic`}
                          >
                            <i className={`fas ${topic.icon} topic-icon`}></i>
                            <div className="topic-name">{topic.name}</div>
                          </button>
                        ))}
                      </div>
                      
                      <div className="bookmarks-section">
                        <button
                          className="topic-card"
                          onClick={showBookmarks}
                          style={{ marginTop: '12px' }}
                          aria-label="View bookmarked cards"
                        >
                          <i className="fas fa-bookmark topic-icon"></i>
                          <div className="topic-name">Bookmarks</div>
                        </button>
                      </div>
                    </>
                  )}
                  
                  {view === 'subtopics' && selectedTopic && (
                    <div className="subtopic-container">
                      <button 
                        className="back-btn" 
                        onClick={goBackToTopics}
                        aria-label="Go back to topics"
                      >
                        <i className="fas fa-arrow-left"></i>
                        Back to Topics
                      </button>
                      
                      <div className="sidebar-title">
                        <i className={`fas ${topicConfig.find(t => t.name === selectedTopic)?.icon || 'fa-folder'}`}></i>
                        {selectedTopic} Subtopics
                      </div>
                      
                      <div className="subtopic-list">
                        {topicConfig.find(t => t.name === selectedTopic)?.subtopics.map(subtopic => (
                          <div
                            key={subtopic}
                            className="subtopic-card"
                            onClick={() => selectSubtopic(subtopic)}
                            aria-label={`Select ${subtopic} subtopic`}
                            role="button"
                            tabIndex="0"
                            onKeyDown={(e) => e.key === 'Enter' && selectSubtopic(subtopic)}
                          >
                            <div className="subtopic-name">{subtopic}</div>
                            <div className="subtopic-count">
                              {getSubtopicCardCount(subtopic)} cards
                            </div>
                            <button
                              className={`bookmark-btn ${isSubtopicBookmarked(subtopic) ? 'active' : ''}`}
                              onClick={(e) => {
                                e.stopPropagation();
                                toggleSubtopicBookmark(subtopic);
                              }}
                              aria-label={`${isSubtopicBookmarked(subtopic) ? 'Remove' : 'Add'} bookmark for ${subtopic}`}
                            >
                              <i className="fas fa-bookmark"></i>
                            </button>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                  
                  {view === 'bookmarks' && (
                    <div className="subtopic-container">
                      <button 
                        className="back-btn" 
                        onClick={goBackToTopics}
                        aria-label="Go back to topics"
                      >
                        <i className="fas fa-arrow-left"></i>
                        Back to Topics
                      </button>
                      
                      <div className="sidebar-title">
                        <i className="fas fa-bookmark"></i>
                        Bookmarked Cards
                      </div>
                      
                      {bookmarkedCards.length > 0 ? (
                        <p style={{ color: 'var(--gray)', marginBottom: '16px' }}>
                          Showing {bookmarkedCards.length} bookmarked cards
                        </p>
                      ) : (
                        <div className="empty-state">
                          <i className="fas fa-bookmark"></i>
                          <h3>No bookmarks yet</h3>
                          <p>Bookmark cards to see them here</p>
                        </div>
                      )}
                    </div>
                  )}
                </div>
              </div>
              
              <div className="flashcard-view">
                {view === 'flashcards' && filteredCards.length > 0 ? (
                  <>
                    <div className="flashcard-header">
                      <div className="flashcard-progress">
                        Card {currentCardIndex + 1} of {filteredCards.length}
                        {selectedSubtopic && ` • ${selectedSubtopic}`}
                      </div>
                      <div className="flashcard-actions">
                        <button
                          className={`action-btn ${isCardBookmarked(filteredCards[currentCardIndex].id) ? 'bookmarked' : ''}`}
                          onClick={() => toggleCardBookmark(filteredCards[currentCardIndex].id)}
                          title="Bookmark this card"
                          aria-label={`${isCardBookmarked(filteredCards[currentCardIndex].id) ? 'Remove' : 'Add'} bookmark`}
                        >
                          <i className="fas fa-bookmark"></i>
                        </button>
                      </div>
                    </div>
                    
                    <div 
                      className="flashcard-content" 
                      onClick={toggleAnswer}
                      role="button"
                      tabIndex="0"
                      aria-label={showAnswer ? 'Hide answer' : 'Show answer'}
                      onKeyDown={(e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                          toggleAnswer();
                        }
                      }}
                    >
                      <div className={`flashcard ${isFlipping ? 'flipping' : ''}`}>
                        <div className="flashcard-subtopic">
                          <i className={`fas ${filteredCards[currentCardIndex].type === 'caseStudy' ? 'fa-map-marked-alt' : 'fa-brain'}`}></i>
                          {filteredCards[currentCardIndex].subtopic}
                        </div>
                        
                        {!showAnswer ? (
                          <div className="flashcard-question">
                            <h3>
                              <i className="fas fa-question-circle"></i>
                              Question
                            </h3>
                            <p>{filteredCards[currentCardIndex].question}</p>
                          </div>
                        ) : (
                          <div className="flashcard-answer">
                            <h3>
                              <i className="fas fa-lightbulb"></i>
                              Answer
                            </h3>
                            <div 
                              className="flashcard-answer-content"
                              dangerouslySetInnerHTML={{ __html: filteredCards[currentCardIndex].answer }}
                            />
                          </div>
                        )}
                      </div>
                      
                      <div className="flashcard-instruction">
                        {!showAnswer ? 'Click to reveal answer' : 'Click to hide answer'}
                      </div>
                    </div>
                    
                    <div className="flashcard-nav">
                      <button 
                        className="nav-btn prev"
                        onClick={prevCard}
                        disabled={currentCardIndex === 0}
                        aria-label="Previous card"
                      >
                        <i className="fas fa-arrow-left"></i>
                        Previous
                      </button>
                      <button 
                        className="nav-btn next"
                        onClick={nextCard}
                        aria-label="Next card"
                      >
                        Next
                        <i className="fas fa-arrow-right"></i>
                      </button>
                    </div>
                  </>
                ) : view === 'flashcards' ? (
                  <div className="empty-state">
                    <i className="fas fa-map"></i>
                    <h3>No flashcards found</h3>
                    <p>Try changing your search or selection criteria</p>
                    <button 
                      className="nav-btn next"
                      onClick={goBackToSubtopics}
                      aria-label="Back to subtopics"
                    >
                      <i className="fas fa-arrow-left"></i>
                      Back to Subtopics
                    </button>
                  </div>
                ) : (
                  <div className="empty-state">
                    <i className="fas fa-globe"></i>
                    <h3>Select a topic to begin</h3>
                    <p>Choose from the topics on the left to view flashcards</p>
                  </div>
                )}
              </div>
            </div>
          </div>
        </ErrorBoundary>
      );
    };
    
    ReactDOM.render(
      <GeographyFlashcardApp />,
      document.getElementById('app-container')
    );
  </script>
</body>
</html>